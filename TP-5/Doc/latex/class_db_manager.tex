\doxysection{Db\+Manager Class Reference}
\hypertarget{class_db_manager}{}\label{class_db_manager}\index{DbManager@{DbManager}}


SQL Database Manager class.  




{\ttfamily \#include $<$dbmanager.\+h$>$}

Inheritance diagram for Db\+Manager\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_db_manager}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_db_manager_a449b4cc451c4ec493345d799891e7eaa}{Db\+Manager}} (const QString \&path)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_db_manager_ac5cdf8e5e932d1681ab807d8f256374c}{\texorpdfstring{$\sim$}{\string~}\+Db\+Manager}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_db_manager_ac04baba8f5d5197f8bcd9230393501de}{is\+Open}} () const
\item 
bool \mbox{\hyperlink{class_db_manager_ac8c34581c717a41e7585a6dabceec002}{create\+Table}} ()
\begin{DoxyCompactList}\small\item\em Creates a new \textquotesingle{}pollution\textquotesingle{} table if it doesn\textquotesingle{}t already exist. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_db_manager_a9465c713b991a6c7b593c8925de93030}{add\+Data}} (int dt, int aqi)
\begin{DoxyCompactList}\small\item\em Add data to db. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_db_manager_a8dc57f5dc421630c8f5788046a9fec1c}{remove\+Data}} (int dt)
\begin{DoxyCompactList}\small\item\em Remove data of dt "{}dt"{} from db. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_db_manager_a05da2b57b31771e6ec051db87695709d}{entry\+Exists}} (int dt) const
\begin{DoxyCompactList}\small\item\em Check if data of dt "{}dt"{} exists in db. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_db_manager_a79b53336351bef9f6e7ababc8af3fd7b}{print\+All\+Data}} () const
\begin{DoxyCompactList}\small\item\em Print values of all data in db. \end{DoxyCompactList}\item 
QMap$<$ int, int $>$ \mbox{\hyperlink{class_db_manager_af77edba6cb74df1e2da260e3736004ab}{get\+All\+Data}} () const
\begin{DoxyCompactList}\small\item\em Return values of all data in db. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_db_manager_a0f2605f9c22754d62f239f95c0c77e98}{remove\+All\+Data}} ()
\begin{DoxyCompactList}\small\item\em Remove all data from db. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_db_manager_ad1e065873dbe8eabf4a77ca8b72a08b1}{add\+Observer}} (\mbox{\hyperlink{class_observer}{Observer}} \texorpdfstring{$\ast$}{*}observer) override
\begin{DoxyCompactList}\small\item\em Add observer to the observer list. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_db_manager_a37815c45827ca1983a847a3a331f0f24}{remove\+Observer}} (\mbox{\hyperlink{class_observer}{Observer}} \texorpdfstring{$\ast$}{*}observer) override
\begin{DoxyCompactList}\small\item\em Remove observer to the observer list. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_db_manager_a0bf54814f260699ad0334fcc92fc46f0}{notify\+Observer}} () const override
\begin{DoxyCompactList}\small\item\em Call the \textquotesingle{}update\textquotesingle{} function of all the observers of the list. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_observable}{Observable}}}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{class_observable_a058acb5a674eba2b96648c66a27440d8}{\texorpdfstring{$\sim$}{\string~}\+Observable}} ()=default
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
SQL Database Manager class. 

\doxylink{class_db_manager}{Db\+Manager} sets up the connection with SQL database and performs some basics queries. The class requires existing SQL database. You can create it with sqlite\+:
\begin{DoxyEnumerate}
\item \$ sqlite3 pollution.\+db
\item sqlite\texorpdfstring{$>$}{>} CREATE TABLE pollution(ids integer primary key, dt interger, aqi integer);
\item sqlite\texorpdfstring{$>$}{>} .quit 
\end{DoxyEnumerate}

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_db_manager_a449b4cc451c4ec493345d799891e7eaa}\label{class_db_manager_a449b4cc451c4ec493345d799891e7eaa} 
\index{DbManager@{DbManager}!DbManager@{DbManager}}
\index{DbManager@{DbManager}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{DbManager()}{DbManager()}}
{\footnotesize\ttfamily Db\+Manager\+::\+Db\+Manager (\begin{DoxyParamCaption}\item[{const QString \&}]{path }\end{DoxyParamCaption})}



Constructor. 

Constructor sets up connection with db and opens it 
\begin{DoxyParams}{Parameters}
{\em path} & -\/ absolute path to db file \\
\hline
\end{DoxyParams}
\Hypertarget{class_db_manager_ac5cdf8e5e932d1681ab807d8f256374c}\label{class_db_manager_ac5cdf8e5e932d1681ab807d8f256374c} 
\index{DbManager@{DbManager}!````~DbManager@{\texorpdfstring{$\sim$}{\string~}DbManager}}
\index{````~DbManager@{\texorpdfstring{$\sim$}{\string~}DbManager}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}DbManager()}{\string~DbManager()}}
{\footnotesize\ttfamily Db\+Manager\+::\texorpdfstring{$\sim$}{\string~}\+Db\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destructor. 

Close the db connection 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_db_manager_a9465c713b991a6c7b593c8925de93030}\label{class_db_manager_a9465c713b991a6c7b593c8925de93030} 
\index{DbManager@{DbManager}!addData@{addData}}
\index{addData@{addData}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{addData()}{addData()}}
{\footnotesize\ttfamily bool Db\+Manager\+::add\+Data (\begin{DoxyParamCaption}\item[{int}]{dt,  }\item[{int}]{aqi }\end{DoxyParamCaption})}



Add data to db. 


\begin{DoxyParams}{Parameters}
{\em dt} & -\/ date time \\
\hline
{\em aqi} & -\/ air quality indice \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true -\/ data added successfully, false -\/ data not added 
\end{DoxyReturn}
\Hypertarget{class_db_manager_ad1e065873dbe8eabf4a77ca8b72a08b1}\label{class_db_manager_ad1e065873dbe8eabf4a77ca8b72a08b1} 
\index{DbManager@{DbManager}!addObserver@{addObserver}}
\index{addObserver@{addObserver}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{addObserver()}{addObserver()}}
{\footnotesize\ttfamily void Db\+Manager\+::add\+Observer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_observer}{Observer}} \texorpdfstring{$\ast$}{*}}]{observer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Add observer to the observer list. 


\begin{DoxyParams}{Parameters}
{\em observer} & -\/ observer object to add \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{class_observable_a959b41e1637ebeeb32b7118b15770867}{Observable}}.

\Hypertarget{class_db_manager_ac8c34581c717a41e7585a6dabceec002}\label{class_db_manager_ac8c34581c717a41e7585a6dabceec002} 
\index{DbManager@{DbManager}!createTable@{createTable}}
\index{createTable@{createTable}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{createTable()}{createTable()}}
{\footnotesize\ttfamily bool Db\+Manager\+::create\+Table (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creates a new \textquotesingle{}pollution\textquotesingle{} table if it doesn\textquotesingle{}t already exist. 

\begin{DoxyReturn}{Returns}
true -\/ \textquotesingle{}pollution\textquotesingle{} table created successfully, false -\/ table not created 
\end{DoxyReturn}
\Hypertarget{class_db_manager_a05da2b57b31771e6ec051db87695709d}\label{class_db_manager_a05da2b57b31771e6ec051db87695709d} 
\index{DbManager@{DbManager}!entryExists@{entryExists}}
\index{entryExists@{entryExists}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{entryExists()}{entryExists()}}
{\footnotesize\ttfamily bool Db\+Manager\+::entry\+Exists (\begin{DoxyParamCaption}\item[{int}]{dt }\end{DoxyParamCaption}) const}



Check if data of dt "{}dt"{} exists in db. 


\begin{DoxyParams}{Parameters}
{\em dt} & -\/ dt of data to check. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true -\/ data exists, false -\/ data does not exist 
\end{DoxyReturn}
\Hypertarget{class_db_manager_af77edba6cb74df1e2da260e3736004ab}\label{class_db_manager_af77edba6cb74df1e2da260e3736004ab} 
\index{DbManager@{DbManager}!getAllData@{getAllData}}
\index{getAllData@{getAllData}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{getAllData()}{getAllData()}}
{\footnotesize\ttfamily QMap$<$ int, int $>$ Db\+Manager\+::get\+All\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return values of all data in db. 

\Hypertarget{class_db_manager_ac04baba8f5d5197f8bcd9230393501de}\label{class_db_manager_ac04baba8f5d5197f8bcd9230393501de} 
\index{DbManager@{DbManager}!isOpen@{isOpen}}
\index{isOpen@{isOpen}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{isOpen()}{isOpen()}}
{\footnotesize\ttfamily bool Db\+Manager\+::is\+Open (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\Hypertarget{class_db_manager_a0bf54814f260699ad0334fcc92fc46f0}\label{class_db_manager_a0bf54814f260699ad0334fcc92fc46f0} 
\index{DbManager@{DbManager}!notifyObserver@{notifyObserver}}
\index{notifyObserver@{notifyObserver}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{notifyObserver()}{notifyObserver()}}
{\footnotesize\ttfamily void Db\+Manager\+::notify\+Observer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Call the \textquotesingle{}update\textquotesingle{} function of all the observers of the list. 



Implements \mbox{\hyperlink{class_observable_a2c5695c7d7fdddb0d9e315ad235fa9cd}{Observable}}.

\Hypertarget{class_db_manager_a79b53336351bef9f6e7ababc8af3fd7b}\label{class_db_manager_a79b53336351bef9f6e7ababc8af3fd7b} 
\index{DbManager@{DbManager}!printAllData@{printAllData}}
\index{printAllData@{printAllData}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{printAllData()}{printAllData()}}
{\footnotesize\ttfamily void Db\+Manager\+::print\+All\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Print values of all data in db. 

\Hypertarget{class_db_manager_a0f2605f9c22754d62f239f95c0c77e98}\label{class_db_manager_a0f2605f9c22754d62f239f95c0c77e98} 
\index{DbManager@{DbManager}!removeAllData@{removeAllData}}
\index{removeAllData@{removeAllData}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{removeAllData()}{removeAllData()}}
{\footnotesize\ttfamily bool Db\+Manager\+::remove\+All\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Remove all data from db. 

\begin{DoxyReturn}{Returns}
true -\/ all data removed successfully, false -\/ not removed 
\end{DoxyReturn}
\Hypertarget{class_db_manager_a8dc57f5dc421630c8f5788046a9fec1c}\label{class_db_manager_a8dc57f5dc421630c8f5788046a9fec1c} 
\index{DbManager@{DbManager}!removeData@{removeData}}
\index{removeData@{removeData}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{removeData()}{removeData()}}
{\footnotesize\ttfamily bool Db\+Manager\+::remove\+Data (\begin{DoxyParamCaption}\item[{int}]{dt }\end{DoxyParamCaption})}



Remove data of dt "{}dt"{} from db. 


\begin{DoxyParams}{Parameters}
{\em dt} & -\/ dt of data to remove. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true -\/ data removed successfully, false -\/ data not removed 
\end{DoxyReturn}
\Hypertarget{class_db_manager_a37815c45827ca1983a847a3a331f0f24}\label{class_db_manager_a37815c45827ca1983a847a3a331f0f24} 
\index{DbManager@{DbManager}!removeObserver@{removeObserver}}
\index{removeObserver@{removeObserver}!DbManager@{DbManager}}
\doxysubsubsection{\texorpdfstring{removeObserver()}{removeObserver()}}
{\footnotesize\ttfamily void Db\+Manager\+::remove\+Observer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_observer}{Observer}} \texorpdfstring{$\ast$}{*}}]{observer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Remove observer to the observer list. 


\begin{DoxyParams}{Parameters}
{\em observer} & -\/ observer to remove from the list \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{class_observable_a620631b40a72b72dd13f430d3884b732}{Observable}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Weather\+Station/\mbox{\hyperlink{dbmanager_8h}{dbmanager.\+h}}\item 
Weather\+Station/\mbox{\hyperlink{dbmanager_8cpp}{dbmanager.\+cpp}}\end{DoxyCompactItemize}
